<mat-table #table [dataSource]="dataSource" [hidden]="!dataSource || dataSource.data.length < 1">

  <ng-container matColumnDef="cover-image">
    <mat-header-cell *matHeaderCellDef>
      Cover
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      <!--<a href="{{ 'https://anilist.co/anime/' + anime.id }}">-->
        <!--<img [src]="anime.coverImage.medium">-->
      <!--</a>-->
      <img [src]="anime.coverImage.medium" [matMenuTriggerFor]="entryMenu">

      <mat-menu #entryMenu="matMenu">
        <button mat-menu-item (click)="viewOnAniList(anime)">
          View on AniList
        </button>
      </mat-menu>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="title">
    <mat-header-cell *matHeaderCellDef>
      Title
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      {{ anime.title.romaji }}
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="format">
    <mat-header-cell *matHeaderCellDef>
      Format
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      {{ anime.format }}
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="start-date">
    <mat-header-cell *matHeaderCellDef>
      Year
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      {{ anime.startDate.year }}
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="genres">
    <mat-header-cell *matHeaderCellDef>
      Genres
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      <div *ngFor="let genre of anime.genres; let i = index">
        <mat-chip>
          {{ genre }}
        </mat-chip>
      </div>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="mean-score">
    <mat-header-cell *matHeaderCellDef>
      Score
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      {{ anime.meanScore / 10 }}/10
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="episodes">
    <mat-header-cell *matHeaderCellDef>
      Episodes
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      {{ anime.episodes }}
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="tableRows"></mat-header-row>
  <mat-row *matRowDef="let rowData; columns: tableRows"></mat-row>

</mat-table>