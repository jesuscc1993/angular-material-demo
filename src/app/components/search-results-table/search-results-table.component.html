<mat-table #table [dataSource]="dataSource" [hidden]="!dataSource || dataSource.data.length < 1" class="series-table"
           matSort (matSortChange)="sortBy($event)">

  <ng-container matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef>

    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      <app-media-actions [media]="anime"></app-media-actions>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="cover-image">
    <mat-header-cell *matHeaderCellDef>
      Cover
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      <img [src]="anime.coverImage.medium" class="cover">
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="title-romaji">
    <mat-header-cell *matHeaderCellDef mat-sort-header>
      Title
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      <span class="title">
        {{ anime.title.romaji }}
      </span>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="format">
    <mat-header-cell *matHeaderCellDef mat-sort-header>
      Format
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      {{ anime.format }}
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="start-date">
    <mat-header-cell *matHeaderCellDef mat-sort-header start="desc">
      Year
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      {{ anime.startDate.year }}
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="genres">
    <mat-header-cell *matHeaderCellDef>
      Genres
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      <mat-list>
        <mat-list-item *ngFor="let genre of anime.genres">
          <mat-chip class="rounded">{{ genre }}</mat-chip>
        </mat-list-item>
      </mat-list>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="score">
    <mat-header-cell *matHeaderCellDef mat-sort-header start="desc">
      Score
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      {{ anime.averageScore / 10 }}/10
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="episodes">
    <mat-header-cell *matHeaderCellDef mat-sort-header start="desc">
      Episodes
    </mat-header-cell>
    <mat-cell *matCellDef="let anime">
      {{ anime.episodes }}
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="tableRows"></mat-header-row>
  <mat-row *matRowDef="let rowData; columns: tableRows"></mat-row>

</mat-table>