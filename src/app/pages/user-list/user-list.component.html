<mat-card *ngIf="!loggedIn" class="warning">
  <h4>
    <i class="fa fa-exclamation-circle fa-1x margin-right-xxs"></i>
    You are not logged in.
    <a [href]=apiLoginUrl>Log in with AniList</a>.
  </h4>
</mat-card>

<mat-spinner *ngIf="loggedIn && !ready" mode="indeterminate" class="full-page"></mat-spinner>

<div *ngIf="loggedIn && ready && !errorGotten">

  <!--<div *ngIf="multiListEnabled">-->
    <!--<div *ngFor="let status of statuses">-->
      <!--<a *ngIf="hasDataOfStatus(status)" href="{{ '/user-list#' + status }}" class="capitalize">-->
        <!--{{ status }}-->
      <!--</a>-->
    <!--</div>-->
  <!---->
    <!--<div *ngFor="let status of statuses">-->
      <!--<div *ngIf="hasDataOfStatus(status)">-->
  <!---->
        <!--<h3 [id]="status" class="capitalize">-->
          <!--{{ status }}-->
        <!--</h3>-->
  <!---->
        <!--<mat-card class="no-padding">-->
          <!--<app-user-list-table [tableData]="statusObjects[status]"></app-user-list-table>-->
        <!--</mat-card>-->
  <!---->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->

  <div *ngIf="!multiListEnabled">
    <div *ngIf="hasDataOfStatus('completed')">
      <h3 class="capitalize">
        {{ 'completed' }}
      </h3>

      <mat-card *ngIf="hasDataOfStatus('completed')" class="no-padding">
        <app-user-list-table
          [tableData]="statusObjects['completed'] | sort: 'scoreRaw' : true"
          [favouriteIDs]="favouriteIDs"
          [reloadOnUpdate]="reloadOnUpdate">
        </app-user-list-table>
      </mat-card>
    </div>
  </div>

  <div class="padding-top-xs padding-bottom-m">
    <h3>
      Settings
    </h3>

    <mat-slide-toggle
            [checked]="reloadOnUpdate"
            (change)="reloadOnUpdate = !reloadOnUpdate">
      Reload on update
    </mat-slide-toggle>
  </div>

  <app-genres-overview
    [genreStatsList]="user.stats.favouredGenresOverview">
  </app-genres-overview>

</div>

<mat-card *ngIf="errorGotten" class="error">
  <h4>
    <i class="fa fa-exclamation-circle fa-1x margin-right-xxs"></i>
    Error 500: Internal server error
  </h4>
</mat-card>